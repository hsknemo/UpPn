import{_ as g,o as c,c as u,a,F as _,p as f,t as d,s as M,q as K,i as I,l as b,j as y,C as v,k as h,A as L,G as w}from"./index.f2624843.js";import{h as A}from"./moment.2cad4b18.js";const x={name:"ReadMe.vue",props:{oHelpData:{type:[Object]}}},H={class:"readme-container"},E={class:"readme-subItem"},B={class:"summary-item"},R={class:"left"},D={class:"right"},N={class:"readme-subItem"},V={class:"summary-item"},P={class:"left"},T={class:"right"};function j(n,s,t,e,i,r){return c(),u("div",H,[a("div",E,[s[1]||(s[1]=a("section",{class:"summary-title"},"\u2328\uFE0F \u5FEB\u6377\u952E:",-1)),(c(!0),u(_,null,f(t.oHelpData.data.fastKey,(o,l)=>(c(),u("div",B,[a("div",R,d(l),1),s[0]||(s[0]=M(" ----- ",-1)),a("div",D,d(o),1)]))),256))]),a("div",N,[s[3]||(s[3]=a("section",{class:"summary-title"},"\u{1F517}\u7ED1\u5B9A\u547D\u4EE4:",-1)),(c(!0),u(_,null,f(t.oHelpData.data.command,(o,l)=>(c(),u("div",V,[a("div",P,d(l),1),s[2]||(s[2]=M(" ----- ",-1)),a("div",T,d(o),1)]))),256))])])}var O=g(x,[["render",j],["__scopeId","data-v-ea56cc90"]]);const z={name:"Tag.vue",props:{status:{type:String},info:{type:String}}};function F(n,s,t,e,i,r){return c(),u("div",{class:K(["tag",{[t.status]:t.status}])},d(t.info),3)}var $=g(z,[["render",F],["__scopeId","data-v-a1f7222c"]]);const G={name:"Success.vue",components:{Tag:$},props:{info:{type:String}}},q={class:"success-info"},U={class:"tag"},W={class:"info"};function Y(n,s,t,e,i,r){const o=I("Tag");return c(),u("div",q,[a("div",U,[b(o,{status:"success",info:"\u{1F913} Bingo!"})]),a("div",W,d(t.info),1)])}var Q=g(G,[["render",Y],["__scopeId","data-v-aaf58990"]]);const J={name:"Error.vue",components:{Tag:$},props:{info:{type:String}}},X={class:"error-info"},Z={class:"tag"},ss={class:"info"};function ts(n,s,t,e,i,r){const o=I("Tag");return c(),u("div",X,[a("div",Z,[b(o,{status:"error",info:"\u{1F97A}"})]),a("div",ss,d(t.info),1)])}var es=g(J,[["render",ts],["__scopeId","data-v-5dbf5bf4"]]);const ns={name:"Music",props:{musicId:{type:[String,Number]}}},is=["src"];function os(n,s,t,e,i,r){return c(),u("iframe",{frameborder:"no",border:"0",marginwidth:"0",marginheight:"0",width:"330",height:"86",src:"//music.163.com/outchain/player?type=2&id="+t.musicId+"&auto=1&height=66"},null,8,is)}var rs=g(ns,[["render",os]]);const cs={name:"MusicList",data(){return{Music:rs}},props:{searchMusicList:{type:Array}},methods:{MusicSinger(n){return n.length?n[0].name:""},onPlay(n){this.searchMusicList.forEach(s=>{s.MusicPlay=!1,s.id===n.id&&(s.MusicPlay=!0)})}}},as={class:"music-list"},us={class:"song-item"},ls=["onClick"];function ds(n,s,t,e,i,r){return c(),u("div",as,[(c(!0),u(_,null,f(t.searchMusicList,(o,l)=>(c(),u("div",us,[a("div",{class:"name",onClick:p=>r.onPlay(o)},[M(d(o.name)+": ",1),a("span",null,d(r.MusicSinger(o.artists)),1)],8,ls),o.MusicPlay?(c(),y(v(i.Music),{key:0,musicId:o.id},null,8,["musicId"])):h("",!0)]))),256))])}var ms=g(cs,[["render",ds],["__scopeId","data-v-28195650"]]);const ps={name:"MicroVideo.vue",props:{videoList:{type:Array,default:n=>[]}}},hs={class:"micro-video-container"},gs={class:"title"},_s={width:"400",controls:"",height:"500"},fs=["src"];function ys(n,s,t,e,i,r){return c(),u("div",hs,[(c(!0),u(_,null,f(t.videoList,(o,l)=>(c(),u("div",{key:l,class:"video-wrap-item"},[a("div",gs,d(o.title),1),a("video",_s,[a("source",{src:o.playUrl,type:"video/mp4"},null,8,fs)])]))),128))])}var vs=g(ps,[["render",ys]]);const Ms="https://cn.bing.com/search",Cs="https://netease-cloud-music-api-lemon-omega.vercel.app/search?keywords=",Ss="https://api.apiopen.top/api/getHaoKanVideo";var C={Bing:Ms,Net163Search:Cs,smallVideo:Ss};class S{constructor(s){this.o=s}static instance(s={}){return new this(s)}async _fetch(s,t,e){try{var i=await fetch(s,{...t});e(i,null)}catch{e(null,i)}}async fetchMusicList(s,t){const e={method:"post"};await this._fetch(C.Net163Search+s,e,t)}}class Is{constructor(){}static instance(){return new this}currentDate(){return A(new Date).format("yyyy\u5E74MM\u6708DD\u65E5 HH\u65F6mm\u5206ss\u79D2")}}class bs{constructor(){this.commonMap=new Map,this.historyCommondList=[],this.teminalLogMap=new Map,this.terminalDate=this.installService(Is,"currentDate")}static instance(s){return new this(s)}installService(s,t){return s.instance()[t]()}regisCommondMap(s,t,e){if(this.commonMap.set(s,e),t.alias&&t.alias.forEach(r=>{this.commonMap.set(r,e)}),t.option){let r=t.option;for(const o in r)this.commonMap.set(s,{[o]:r[o]});var i=this.commonMap.get(s);i.func=e,this.commonMap.set(s,i)}if(t.desc){var i=this.commonMap.get(s);i.desc=t.desc,this.commonMap.set(s,i)}console.log(this.commonMap,"\u6CE8\u518C")}getHistory(){return this.historyCommondList}setCommandHistory(s){this.historyCommondList.push(s)}isMap(s){return Object.prototype.toString.call(s)==="[object Object]"}runCommondBy(s,t){var r;this.setCommandHistory(s);var e=this.parseCommand(s);if(console.log({runcommand:e}),this.commonMap.get(e.start)){let o={};var i=this.commonMap.get(e.start);(r=e==null?void 0:e.option)!=null&&r.size?e.option.forEach((l,p)=>{console.log({\u904D\u5386:l,index:p}),i[p]&&(o=i[p](l||""))}):(console.log(i),this.isMap(i)?i.func():o=i()),t(this.runCommondSuccess(s,o))}else t(this.runCommondError(s))}runCommondError(s){return{runCommoand:s,status:"error",info:"\u8FD0\u884C\u5931\u8D25"}}runCommondSuccess(s,t){return console.log({run:s}),Object.assign({},{runCommoand:s.start||s,status:"success",info:"\u8FD0\u884C\u6210\u529F"},t)}clearCommond(s){for(let t=0;t<s.length;t++)s[t]||(s.splice(t,1),t+=1);return s}parseCommand(s){console.log({\u89E3\u6790\u7684\u547D\u4EE4\u662F:s});var t={};const e=s.split(" "),i=this.clearCommond(e);return console.log({c:i}),i.forEach((r,o)=>{e[0]!==""&&(t.start=e[0]),r.includes("-")&&r[0]==="-"&&(t.option=t.option||new Map,t.option.set(r,e[o+1]||""))}),console.log({parseResult:t}),t}getBindCommand(){return this.commonMap}getDate(){return this.terminalDate}}class $s{constructor(){this.rigisKey=new Map,this.rigisKeyAndOption=new Map,this.initWatchKey()}static instance(){return new this}initWatchKey(){var s=[];window.addEventListener("keydown",t=>{var e=t.key;if(s.push(e),s.length===2)if(this.isBindKey(s.join("+"))){var e=s.join("+");this.runRegisKey(e)}else s=[]}),window.addEventListener("keyup",t=>{t.key,s.length=0})}onRegisKey(s,t={},e){this.rigisKey.set(s,e),t.desc&&this.rigisKeyAndOption.set(s,{desc:t.desc})}runRegisKey(s){this.rigisKey.get(s)&&this.rigisKey.get(s)()}isBindKey(s){return!!this.rigisKey.get(s)}getBindKeys(){return this.rigisKeyAndOption}}class ks{constructor(s){this.o=s,this.helpCommand={}}static instance(s={}){return new this(s)}init(s){const t=s.globalKeyService.getBindKeys(),e=s.terminal.getBindCommand();this.helpCommand={regisKey:t,terminalCommand:e}}getHelp({service:s}){return this.init(s),this.helpCommand}}class Ks{constructor(){this.install()}static instance(s={}){return new this(s)}install(){this.terminal=bs.instance(),this.musicService=S.instance(),this.globalKeyService=$s.instance(),this.readMeService=ks.instance()}bindKey(s,t,e){let i={terminal:this.terminal,musicService:this.musicService,readMeService:this.readMeService};this.globalKeyService.onRegisKey(s,t,e.bind(this,i))}bindCommond(s,t,e){let i={terminal:this.terminal,musicService:this.musicService,readMeService:this.readMeService,globalKeyService:this.globalKeyService};this.terminal.regisCommondMap(s,t,e.bind(this,i))}runCommond(s,t){this.terminal.runCommondBy(s,t)}getCommandHistory(){return this.terminal.getHistory()}}class Ls extends S{constructor(){super()}static instance(){return new this}fetchVideoList(s,t,e){let i={method:"get",params:{page:0,size:20}};i.params=Object.assign({},i.params,t),this._fetch(s+`?page=0&size=${t.size}`,i,e)}}const ws=S.instance(),As=Ls.instance(),m=Ks.instance({}),xs={name:"index.vue",data(){return{MicroVideoList:vs,ReadMe:O,onInput:"",ErrorLog:es,SuccessLog:Q,MusicList:ms,logInputsArr:[],historyInputsArray:[],historyLog:{runHistoryLog:[]},SYSTEM_KEY_MAP:{}}},mounted(){this.initSystemKeyBind(),this.onBaseRegisCommond(),this.initNumber()},methods:{initNumber(){const n="";Number.prototype.unoInnerFixed=function(s){let t="";if(String(this)!==""){let e=String(this);if(e.includes(".")){let i=e.split("."),r=i[0];return t=i[1].substring(0,s),Number(r+"."+t)}return t=e,Number(t)}},Number(n).unoInnerFixed(4)},initSystemKeyBind(){const n={\u8001\u677F\u952E:{key:"Control+h",config:{desc:"\u8001\u677F\u952E"},func:s=>{const{terminal:t}=s;t.runCommondBy("cls",(e,i)=>{console.log({res:e}),e&&(this.logInputsArr=[])})}},focusInput:{key:"Control+g",config:{desc:"\u5168\u5C40\u805A\u7126\u5F53\u524D\u547D\u4EE4\u8F93\u5165\u6846"},func:s=>{this.$refs.inputRef.focus()}}};m.bindKey(n.\u8001\u677F\u952E.key,n.\u8001\u677F\u952E.config||{},n.\u8001\u677F\u952E.func),m.bindKey(n.focusInput.key,n.focusInput.config||{},n.focusInput.func)},onBaseRegisCommond(){const n={\u5E2E\u52A9\u4FE1\u606F:{key:"help",config:{desc:"\u67E5\u770B\u5E2E\u52A9"},func:s=>{const{readMeService:t,terminal:e,globalKeyService:i}=s,r=t.getHelp({service:{terminal:e,globalKeyService:i}});console.log(r);var o={fastKey:{},command:{}};r.regisKey.forEach((l,p)=>{o.fastKey[p]=l.desc||""}),r.terminalCommand.forEach((l,p)=>{o.command[p]=l.desc||""}),console.log(o),this.logInputsArr.push({runCommoand:this.onInput,help:{data:o}})}},\u7F51\u6613\u4E91\u97F3\u4E50:{key:"net",config:{desc:"\u7F51\u6613\u4E91\u97F3\u4E50\u5E2E\u52A9\u952E",option:{"-s":s=>{console.log(s,"\u5173\u952E\u8BCD"),ws.fetchMusicList(s,async(t,e)=>{var r;if(t){const o=await t.json();var i=Object.assign({},{runCommoand:"net -s "+s,runStatus:"success"},{musicList:((r=o==null?void 0:o.result)==null?void 0:r.songs)||[]});console.log({oMusicList:i}),this.logInputsArr.push(i);return}e&&this.logInputsArr.push(terminal.runCommondError("net - s"+s))})}}},func:s=>{this.logInputsArr.push({runCommoand:this.onInput,MusicPlay:!0})}},\u77ED\u89C6\u9891:{key:"vd",config:{desc:"\u77ED\u89C6\u9891\u547D\u4EE4",option:{"-n":s=>{console.log(s,"\u6570\u91CF"),As.fetchVideoList(C.smallVideo,{page:0,size:s},async(t,e)=>{var r;if(t){const o=await t.json();var i=Object.assign({},{runCommoand:"vd -n "+s,runStatus:"success"},{videoList:((r=o==null?void 0:o.result)==null?void 0:r.list)||[]});this.logInputsArr.push(i);return}e&&this.logInputsArr.push(terminal.runCommondError("vd -n"+s))})}}},func:s=>{this.logInputsArr.push({runCommoand:this.onInput,MusicPlay:!0})}},bing\u641C\u7D22:{key:"bing",config:{desc:"\u5FC5\u5E94\u641C\u7D22\u952E",alias:["b","bi"],option:{"-s":function(s){window.open(C.Bing+"?q="+s)}}},func:s=>({})},\u6E05\u9664:{key:"clear",config:{alias:["cl","cls"]},func:s=>{this.logInputsArr=[]}},\u5F00\u53D1\u8005\u4FE1\u606F:{key:"info",config:{desc:"\u5F00\u53D1\u8005\u4FE1\u606F\u547D\u4EE4"},func:s=>{this.logInputsArr.push({runStatus:"success",runCommoand:this.onInput,info:"Autor: QinKai"})}},\u67E5\u770B\u5386\u53F2:{key:"history",config:{alias:["hs","his"],desc:"\u67E5\u770B\u5386\u53F2\u4FE1\u606F\u547D\u4EE4",option:{"-l":()=>{this.logInputsArr.push({runStatus:"success",runCommoand:this.onInput,info:"\u771F\u725B\u903C"})}}},func:s=>{const{terminal:t}=s;var e=[];t.getHistory().forEach(i=>{e.push({commondItem:i})}),this.logInputsArr.push({runCommoand:this.onInput,runHistoryLog:e}),console.log(this.logInputsArr)}},\u67E5\u770B\u65E5\u671F:{key:"date",config:{},func:s=>{const{terminal:t}=s;let e=t.getDate();this.logInputsArr.push({runCommoand:this.onInput,info:e,runStatus:"success"})}}};m.bindCommond(n.\u5E2E\u52A9\u4FE1\u606F.key,n.\u5E2E\u52A9\u4FE1\u606F.config||{},n.\u5E2E\u52A9\u4FE1\u606F.func),m.bindCommond(n.\u7F51\u6613\u4E91\u97F3\u4E50.key,n.\u7F51\u6613\u4E91\u97F3\u4E50.config||{},n.\u7F51\u6613\u4E91\u97F3\u4E50.func),m.bindCommond(n.bing\u641C\u7D22.key,n.bing\u641C\u7D22.config||{},n.bing\u641C\u7D22.func),m.bindCommond(n.\u6E05\u9664.key,n.\u6E05\u9664.config||{},n.\u6E05\u9664.func),m.bindCommond(n.\u5F00\u53D1\u8005\u4FE1\u606F.key,n.\u5F00\u53D1\u8005\u4FE1\u606F.config||{},n.\u5F00\u53D1\u8005\u4FE1\u606F.func),m.bindCommond(n.\u67E5\u770B\u5386\u53F2.key,n.\u67E5\u770B\u5386\u53F2.config||{},n.\u67E5\u770B\u5386\u53F2.func),m.bindCommond(n.\u67E5\u770B\u65E5\u671F.key,n.\u67E5\u770B\u65E5\u671F.config||{},n.\u67E5\u770B\u65E5\u671F.func),m.bindCommond(n.\u77ED\u89C6\u9891.key,n.\u77ED\u89C6\u9891.config||{},n.\u77ED\u89C6\u9891.func)},onRegisCommon(){},onGoPageLast(){const s=this.$refs.container,t=s.scrollHeight+400;setTimeout(e=>{this.$nextTick(i=>{s.scrollTop=t,console.log(s,t)})},200)},onCommandRun(n){return new Promise((s,t)=>{m.runCommond(n,function(e){e.status==="success"?s(e):t(e)})})},async onEnterInput(){try{if(!this.onInput){this.logInputsArr.push({runCommoand:"~",runStatus:"any"});return}var n=await this.onCommandRun(this.onInput)}catch(s){console.log(s),this.logInputsArr.push({runCommoand:s.runCommoand,info:s.info,runStatus:s.status,runHistoryLog:[]})}finally{this.onGoPageLast(),this.onInput=""}},onInputKeyPress(n){let s=n.key;switch(console.log("press",n),s){case"Enter":this.onEnterInput();break}}}},Hs={class:"container",ref:"container"},Es={key:0,class:"row-log-container"},Bs={key:0,class:"history"},Rs={class:"right"},Ds={key:1,class:"log-item"},Ns={class:"sub-wrap"},Vs={class:"logItem"},Ps={class:"row-input"};function Ts(n,s,t,e,i,r){return c(),u("div",Hs,[i.logInputsArr.length?(c(),u("div",Es,[(c(!0),u(_,null,f(i.logInputsArr,(o,l)=>(c(),u(_,{key:l},[o.runCommoand?(c(),u("div",Bs,[s[2]||(s[2]=a("div",{class:"left no-select"},"~",-1)),a("div",Rs,d(o.runCommoand),1)])):h("",!0),o.runStatus!=="any"?(c(),u("div",Ds,[a("div",Ns,[o.runStatus?(c(),y(v(o.runStatus==="success"?i.SuccessLog:i.ErrorLog),{key:0,info:o.info},null,8,["info"])):h("",!0)])])):h("",!0),(c(!0),u(_,null,f(o.runHistoryLog,(p,k)=>(c(),u("div",{key:k,class:"log"},[a("div",Vs,d(p.commondItem),1)]))),128)),o.musicList?(c(),y(v(i.MusicList),{key:2,searchMusicList:o.musicList},null,8,["searchMusicList"])):h("",!0),o.videoList?(c(),y(v(i.MicroVideoList),{key:3,videoList:o.videoList},null,8,["videoList"])):h("",!0),o.help?(c(),y(v(i.ReadMe),{key:4,oHelpData:o.help},null,8,["oHelpData"])):h("",!0)],64))),128))])):h("",!0),a("div",Ps,[s[3]||(s[3]=a("span",{class:"position no-select green"},"\uFE0F~",-1)),s[4]||(s[4]=a("span",{class:"mk-hk"},":",-1)),L(a("input",{ref:"inputRef","onUpdate:modelValue":s[0]||(s[0]=o=>i.onInput=o),onKeydown:s[1]||(s[1]=(...o)=>r.onInputKeyPress&&r.onInputKeyPress(...o)),autofocus:"",type:"text",class:"terminal-input"},null,544),[[w,i.onInput]])])],512)}var zs=g(xs,[["render",Ts],["__scopeId","data-v-5454df8c"]]);export{zs as default};
